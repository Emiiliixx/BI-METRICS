<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaciones DIA - matematica</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-blue: #0a2e50;
            --table-header: #0a2e50c4;
            --btn-green: #0a2e50bb;
            --bg-light: #f4f7f9;
            --border-color: #1a4a1a;
            --highlight-green: #0a2e506e;
        }

        body { font-family: Arial, sans-serif; background-color: white; margin: 0; padding: 0; }
        .banner { background-color: var(--primary-blue); color: white; text-align: center; padding: 20px; font-size: 2.5rem; font-weight: bold; }
        .container { padding: 20px; max-width: 1350px; margin: auto; }

        .header-content { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .subject-tag { color: #9cc64d; font-weight: bold; font-size: 1.2rem; margin-left: 50px; }
        .back-button { background-color: var(--primary-blue); color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; justify-content: center; align-items: center; text-decoration: none; font-size: 24px; transform: rotate(180deg); }

        .category-buttons { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 20px; text-align: center; }
        .btn-cat { background-color: var(--btn-green); color: white; padding: 15px; border-radius: 10px; font-weight: bold; display: inline-block; }

        .grid-tables { display: grid; grid-template-columns: 1fr 1.2fr 1.2fr; gap: 20px; margin-bottom: 40px; }
        table { width: 100%; border-collapse: collapse; background: white; text-align: center; font-size: 13px; }
        th { background: var(--table-header); color: black; border: 1px solid var(--border-color); padding: 15px; }
        td { border: 1px solid var(--border-color); padding: 12px; font-weight: bold; color: #333; }
        
        /* Clase de resaltado verde transparente */
        .col-highlight { background-color: var(--highlight-green); }

        .scroll-table { max-height: 500px; overflow-y: auto; border: 1px solid var(--border-color); }

        .charts-section { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; background: #fff; padding: 20px; }
        .chart-container { position: relative; height: 300px; }
        h2 { color: var(--primary-blue); text-align: center; font-size: 1.1rem; }
    </style>
</head>
<body>

<div class="banner">Evaluaciones DIA</div>

<div class="container">
    <div class="header-content">
        <div class="subject-tag">MATEMATICA</div>
        <a href="Matematicas.html" class="back-button"> &#10140; </a>
    </div>

    <div class="category-buttons">
        <div class="btn-cat">Comparación por lista</div>
        <div class="btn-cat">Comparación cursos</div>
        <div class="btn-cat">Comparación por años</div>
    </div>

    <div class="grid-tables">
        <div class="scroll-table">
            <table>
                <thead><tr><th>n.° Alumno</th><th>Inicial</th><th>Final</th></tr></thead>
                <tbody id="lista-alumnos-dinamica"></tbody>
            </table>
        </div>
        
        <table>
            <thead><tr><th>Cursos</th><th>Inicial</th><th>Intermedio</th><th>Final</th></tr></thead>
            <tbody>
                <tr><td class="col-highlight">1°A</td><td>35.5</td><td>56.4%</td><td>60.2%</td></tr>
                <tr><td class="col-highlight">1°B</td><td>54.1%</td><td>61.1%</td><td>66.2%</td></tr>
                <tr><td class="col-highlight">1°C</td><td>48.5%</td><td>59.4%</td><td>69.3%</td></tr>
                <tr><td class="col-highlight">1°D</td><td>58.8%</td><td>62.2%</td><td>70.2%</td></tr>
                <tr><td class="col-highlight">1°E</td><td>38.4%</td><td>62.7%</td><td>67.9%</td></tr>
                <tr><td class="col-highlight">1°F</td><td>47.8%</td><td>57.8%</td><td>76.8%</td></tr>
            </tbody>
        </table>

        <table>
            <thead><tr><th>Años</th><th>Inicial</th><th>Final</th></tr></thead>
            <tbody>
                <tr><td class="col-highlight">2024 1°</td><td>64.9%</td><td>64.0%</td></tr>
                <tr><td class="col-highlight">2024 2°</td><td>55.5%</td><td>56.2%</td></tr>
                <tr><td class="col-highlight">2025 1°</td><td>68.4%</td><td>78.4%</td></tr>
                <tr><td class="col-highlight">2025 2°</td><td>68.5%</td><td>88.9%</td></tr>
                <tr style="background:#f9f9f9"><td class="col-highlight">R. Finales</td><td>64.4%</td><td>71.7%</td></tr>
            </tbody>
        </table>
    </div>

    <div class="charts-section">
        <div>
            <h2>Comparativa por Cursos (%)</h2>
            <div class="chart-container"><canvas id="chartCursos"></canvas></div>
        </div>
        <div>
            <h2>Progreso Histórico (Lenguaje)</h2>
            <div class="chart-container"><canvas id="chartAnos"></canvas></div>
        </div>
    </div>
</div>

<script>
    const tbody = document.getElementById('lista-alumnos-dinamica');
    const datosImagen = {
        "001": { ini: "43.3%", fin: "64.0%" }, "010": { ini: "30.2%", fin: "56.2%" },
        "020": { ini: "53.7%", fin: "78.4%" }, "030": { ini: "20.2%", fin: "45.3%" },
        "040": { ini: "51.2%", fin: "65.9%" }
    };

    for (let i = 1; i <= 40; i++) {
        let idStr = i.toString().padStart(3, '0');
        let inicial = datosImagen[idStr] ? datosImagen[idStr].ini : (Math.random() * 40 + 20).toFixed(1) + "%";
        let final = datosImagen[idStr] ? datosImagen[idStr].fin : (Math.random() * 50 + 40).toFixed(1) + "%";
        
        // TABLA 1: Aplicación de col-highlight dinámica
        tbody.innerHTML += `<tr><td class="col-highlight">${idStr}</td><td>${inicial}</td><td>${final}</td></tr>`;
    }

    // Gráficos
    new Chart(document.getElementById('chartCursos'), {
        type: 'bar',
        data: {
            labels: ['1°A', '1°B', '1°C', '1°D', '1°E', '1°F'],
            datasets: [
                { label: 'Inicial', data: [35.5, 54.1, 48.5, 58.8, 38.4, 47.8], backgroundColor: '#9cc64d' },
                { label: 'Final', data: [60.2, 66.2, 69.3, 70.2, 67.9, 76.8], backgroundColor: '#0a2e50' }
            ]
        },
        options: { responsive: true, maintainAspectRatio: false } 
    });

    new Chart(document.getElementById('chartAnos'), {
        type: 'line',
        data: {
            labels: ['2024 1°', '2024 2°', '2025 1°', '2025 2°'],
            datasets: [
                { label: 'Inicial', data: [64.9, 55.5, 68.4, 68.5], borderColor: '#0a2e50', tension: 0.1 },
                { label: 'Final', data: [64.0, 56.2, 78.4, 88.9], borderColor: '#9cc64d', tension: 0.1 }
            ]
        },
        options: { responsive: true, maintainAspectRatio: false }
    });
</script>
</body>

</html>
