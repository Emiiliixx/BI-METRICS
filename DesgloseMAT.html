<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaciones DIA - Matemáticas</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-blue: #0a2e50;
            --table-header: #5b84a7;
            --btn-green: #9cc64d;
            --bg-light: #f4f7f9;
             /* Color azul transparente para resaltar la primera columna */
            --highlight-blue: rgba(41, 48, 116, 0.5);
        }

        body { font-family: Arial, sans-serif; background-color: var(--bg-light); margin: 0; padding: 0; }
        
        /* Banner Principal */
        .banner { background-color: var(--primary-blue); color: white; text-align: center; padding: 20px; font-size: 2.5rem; font-weight: bold; }
        
        .container { padding: 20px; max-width: 1300px; margin: auto; }

        /* Cabecera de Asignatura y Botón Volver */
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .subject-tag {
            color: var(--primary-blue);
            font-weight: bold;
            font-size: 1.1rem;
            border-bottom: 3px solid var(--primary-blue);
            padding-bottom: 5px;
        }

        .back-button {
            background-color: var(--primary-blue);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            font-size: 24px;
            font-weight: bold;
            transition: opacity 0.3s;
        }

        .back-button:hover { opacity: 0.8; }

        /* Tablas */
        .grid-tables { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 40px; }
        table { width: 100%; border-collapse: collapse; background: white; text-align: center; font-size: 12px; }
        th { background: var(--table-header); color: white; border: 1px solid #333; padding: 12px; }
        td { border: 1px solid var(--primary-blue); padding: 10px; font-weight: bold; }
          /* Clase de resaltado verde */
        .col-highlight { background-color: var(--highlight-green); }

        .scroll-table { max-height: 400px; overflow-y: auto; border: 1px solid var(--primary-blue); }

        /* Gráficos */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .chart-container { position: relative; height: 350px; }
        h2 { color: var(--primary-blue); text-align: center; font-size: 1.2rem; margin-bottom: 20px; }
    </style>
</head>
<body>

<div class="banner">Evaluaciones DIA</div>

<div class="container">
    
    <div class="header-content">
        <div class="subject-tag">MATEMATICA</div>
        <a href="#" class="back-button" title="Volver">
            &#10140; </a>
    </div>
    <style> .back-button { transform: rotate(180deg); } </style>

    <div class="grid-tables">
        <div class="scroll-table">
            <table>
                <thead><tr><th>n.° Alumno</th><th>Inicial</th><th>Final</th></tr></thead>
                <tbody id="lista-alumnos"></tbody>
            </table>
        </div>
        
        <table id="tabla-cursos">
            <thead><tr><th>Cursos</th><th>Inicial</th><th>Intermedio</th><th>Final</th></tr></thead>
            <tbody>
                <tr><td>1°A</td><td>28.5%</td><td>32.8%</td><td>49.3%</td></tr>
                <tr><td>1°B</td><td>33.2%</td><td>37.9%</td><td>66.2%</td></tr>
                <tr><td>1°C</td><td>32.5%</td><td>33.0%</td><td>62.1%</td></tr>
                <tr><td>1°D</td><td>43.0%</td><td>46.2%</td><td>61.1%</td></tr>
                <tr><td>1°E</td><td>31.6%</td><td>43.4%</td><td>58.0%</td></tr>
                <tr><td>1°F</td><td>37.3%</td><td>47.5%</td><td>50.4%</td></tr>
            </tbody>
        </table>

        <table id="tabla-anos">
            <thead><tr><th>Años</th><th>Inicial</th><th>Final</th></tr></thead>
            <tbody>
                <tr><td>2024 1°</td><td>64.9%</td><td>64.0%</td></tr>
                <tr><td>2024 2°</td><td>55.5%</td><td>56.2%</td></tr>
                <tr><td>2025 1°</td><td>49.5%</td><td>78.4%</td></tr>
                <tr><td>2025 2°</td><td>68.5%</td><td>88.9%</td></tr>
                <tr style="background:#eee"><td>R. Finales</td><td>60.7%</td><td>71.7%</td></tr>
            </tbody>
        </table>
    </div>

    <div class="charts-section">
        <div>
            <h2>Comparativa por Cursos (%)</h2>
            <div class="chart-container">
                <canvas id="chartCursos"></canvas>
            </div>
        </div>
        <div>
            <h2>Progreso Histórico (Asignatura)</h2>
            <div class="chart-container">
                <canvas id="chartAnos"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    // Generar lista correlativa del 001 al 040
    const tbodyAlumnos = document.getElementById('lista-alumnos');
    for (let i = 1; i <= 40; i++) {
        let id = i.toString().padStart(3, '0');
        let inicial = (Math.random()*30 + 20).toFixed(1);
        let final = (Math.random()*40 + 50).toFixed(1);
        let row = `<tr><td>${id}</td><td>${inicial}%</td><td>${final}%</td></tr>`;
        tbodyAlumnos.innerHTML += row;
    }

    // Gráfico de Cursos
    const ctxC = document.getElementById('chartCursos').getContext('2d');
    new Chart(ctxC, {
        type: 'bar',
        data: {
            labels: ['1°A', '1°B', '1°C', '1°D', '1°E', '1°F'],
            datasets: [
                { label: 'Inicial', data: [28.5, 33.2, 32.5, 43.0, 31.6, 37.3], backgroundColor: '#5b84a7' },
                { label: 'Final', data: [49.3, 66.2, 62.1, 61.1, 58.0, 50.4], backgroundColor: '#9cc64d' }
            ]
        },
        options: { responsive: true, maintainAspectRatio: false }
    });

    // Gráfico de Años
    const ctxA = document.getElementById('chartAnos').getContext('2d');
    new Chart(ctxA, {
        type: 'line',
        data: {
            labels: ['2024 1°', '2024 2°', '2025 1°', '2025 2°'],
            datasets: [
                { label: 'Inicial', data: [64.9, 55.5, 49.5, 68.5], borderColor: '#0a2e50', backgroundColor: '#0a2e50', fill: false },
                { label: 'Final', data: [64.0, 56.2, 78.4, 88.9], borderColor: '#9cc64d', backgroundColor: '#9cc64d', fill: false }
            ]
        },
        options: { responsive: true, maintainAspectRatio: false }
    });
</script>
</body>

</html>
